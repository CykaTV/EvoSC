<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<manialink id="MapList" version="3">
    <frame pos="0 0" scale="0.85" id="main-frame">
        <quad pos="-100 50" z-index="-3" size="200 110" bgcolor="0006"/>
        <quad pos="-100 37" z-index="0" size="200 0.2" bgcolor="18f9"/>
        <quad pos="-100 50" z-index="-2" size="200 13.5" bgcolor="18f3"/>
        <quad pos="-100 50" z-index="-1" size="200 110" style="Bgs1" substyle="BgDialogBlur"/>

        <frame pos="-95 45">
            <label pos="0 0" z-index="0" size="90 5" text="$oAvailable commands" textcolor="ffff" halign="left"/>
            <quad pos="185 1" z-index="0" size="6 6" bgcolor="FFFA" style="Icons128x32_1" substyle="Close" action="maplist.close"/>

            <label pos="0 -12" z-index="0" size="79 5" text="Name"/>
            <label pos="40 -12" z-index="0" size="79 5" text="Description"/>

            {if isset($commands)}
            {foreach $commands as $command}
            <frame pos="0 0" z-index="1">
                {if $command->access != null}
                <label pos="-3 -{15 + $iterator->counter * 5}" size="40 5" textsize="1.5" text="*"/>
                <label pos="120 -{15 + $iterator->counter * 5}" z-index="0" size="62 5" textsize="1.8" valign="center" text="Access: {implode(', ', $command->access)}"/>
                {/if}

                <label pos="0 -{15 + $iterator->counter * 5}" z-index="0" size="62 5" textsize="1.8" valign="center" text="{$command->trigger}{$command->command}"/>
                <label pos="40 -{15 + $iterator->counter * 5}" z-index="0" size="62 5" textsize="1.8" valign="center" text="{$command->description}"/>
            </frame>
            {/foreach}
            {/if}
        </frame>

        <script><!--
    main() {
        declare frame <=> (Page.MainFrame.GetFirstChild("main-frame") as CMlFrame);
        declare Real startScale = 0.85;
        declare Real curScale = startScale;
        declare Real targetScale = 0.81;

        while(curScale > targetScale){
            yield;
            curScale = curScale - 0.007;
            frame.Scale = curScale;
        }
    }
    --></script>
    </frame>
</manialink>