<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<manialink name="ESC:ban-ui" id="ban-ui" version="3">
    <frame id="window" pos="0 0" size="50 10" scale="1.0">
        <quad size="50 10" pos="0 -5" bgcolor="{config('colors.ui.window.bg.color')}" opacity="0.85" z-index="-1" />
        <quad size="50 5" bgcolor="{config('colors.ui.window.header.color')}" opacity="0.95" z-index="0" />
        <quad id="handle" data-id="ban-ui" size="115 5" z-index="5" />
        <label pos="2 -2.5" valign="center" textsize="1" text=" Bans" z-index="1" textfont="{config('colors.ui.font')|noescape}" />
        <label class="close" pos="47.5 -2.5" size="5 5" text="❌" textsize="1" z-index="2" halign="center" valign="center" textcolor="{config('colors.ui.window.text.primary')}" ScriptEvents="1" focusareacolor1="0000" focusareacolor2="0003" textfont="{config('colors.ui.font')|noescape}" />
    </frame>

    <script><!--
    #Include "MathLib" as ML
    #Include "TextLib" as TL

    {(new esc\Classes\ManiaLinkDrag())|noescape}

    main(){
        declare mainFrame <=> (Page.MainFrame.GetFirstChild("window") as CMlFrame);

        while(True){
            yield;

            foreach(event in PendingEvents){
                if(event.Type == CMlScriptEvent::Type::MouseClick && event.Control.HasClass("close")){
                    mainFrame.Hide();
                    continue;
                }
            }

            maniaLinkDrag();
        }
    }

    --></script>
</manialink>