<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<manialink id="MapList" version="3">
    <frame scale="0.8">
        <quad pos="-90 70" z-index="-1" size="180 140" bgcolor="000c"/>
        <quad pos="80 68" z-index="0" size="7 7" bgcolor="FFFA" style="Icons128x32_1" substyle="Close" action="maplist.close"/>

        <label pos="-80 60" z-index="0" size="79 5" textsize="1.3" text="$oMap"/>
        <label pos="-40 60" z-index="0" size="79 5" textsize="1.3" text="$oLocal"/>

        {if isset($maps)}
        {foreach $maps as $map}
        <frame pos="-80 {60 - $iterator->counter * 4}" z-index="1">
            <quad pos="0 0" size="160 3" action="maplist.queue,{$map->id}" />
            <label pos="0 0" size="79 5" textsize="1.5" text="{$map->Name}"/>

            {if $map->locals()->where('Player', $player->id)->first() != null}
            <label pos="40 0" size="79 5" textsize="1.5" text="{formatScore($map->locals()->where('Player', $player->id)->first()->Score)}"/>
            {else}
            <label pos="40 0" size="79 5" textsize="1.5" text="-"/>
            {/if}
        </frame>
        {/foreach}
        {/if}
    </frame>
</manialink>