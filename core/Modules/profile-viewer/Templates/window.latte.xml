<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<manialink name="ESC:Profile" id="Profile" version="3">
    <frame id="profile" pos="-50 42.5" size="120 180" z-index="3">
        <quad pos="0 0" size="100 5" bgcolor="{config('colors.ui.header')}" opacity="0.9" z-index="-1" />
        <quad id="bg" pos="0 -5" size="100 80" bgcolor="{config('colors.ui.background')}" opacity="0.8" z-index="-1" />
        <label pos="2 -2.5" textsize="0.8" text=" Player Profile" textprefix="$s" valign="center" />
        <label class="close" pos="97.5 -2.5" size="5 5" textsize="0.2" text="❌" textprefix="$s" valign="center" halign="center" ScriptEvents="1" focusareacolor1="0000" focusareacolor2="0003" />

        <frame id="content" size="120 80" pos="0 -5" z-index="5">
        </frame>
    </frame>

    <script><!--
#Include "MathLib" as ML
#Include "TextLib" as TL

main() {
    declare profile <=> (Page.MainFrame.GetFirstChild("profile") as CMlFrame);

    declare targetLogin = {$target->Login};

    while(True){
        yield;

        foreach(event in PendingEvents){
            if(event.Type == CMlScriptEvent::Type::MouseClick && event.Control.HasClass("close")){
                profile.Hide();
            }
        }
    }
}
    --></script>
</manialink>