<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<manialink name="ESC:{include id}" id="{include id}" version="3">
<frame id="window" pos="0 0">
    <quad pos="0 0" size="120 5" bgcolor="{config('colors.ui.window.header.color')}" opacity="0.9" z-index="-1"/>
    <quad id="handle" data-id="help" pos="0 0" size="115 5" z-index="5"/>
    <quad id="bg" pos="0 -5" size="120 77" bgcolor="{config('colors.ui.window.bg.color')}" opacity="0.8" z-index="-1"/>
    <label pos="2 -2.5" textsize="0.8" text="{block icon}{/block}" textprefix="$s" valign="center" textfont="{config('colors.ui.font')|noescape}"/>
    <label pos="5.5 -2.5" textsize="0.8" text="{block title}{/block}" textprefix="$s" valign="center" textfont="{config('colors.ui.font')|noescape}"/>
    <label class="close" pos="117.5 -2.5" size="5 5" textsize="0.2" text="❌" textfont="{config('colors.ui.font')|noescape}" textprefix="$s" valign="center" halign="center" ScriptEvents="1" focusareacolor1="0000" focusareacolor2="0003"/>


    <frame pos="2 -7">
        {block content}{/block}
    </frame>
</frame>

<script><!--
#Include "MathLib" as ML
#Include "TextLib" as TL
--></script>

{include 'scripts.drag'}

<script><!--
main() {
    declare window <=> (Page.MainFrame.GetFirstChild("window") as CMlFrame);

    while(True){
        yield;

        foreach(event in PendingEvents){
            if(event.Control == Null) continue;

            if(event.Control.HasClass("close") && event.Type == CMlScriptEvent::Type::MouseClick){
                window.Hide();
                return;
            }

            {block pendingEvents}{/block}
        }

        maniaLinkDrag();
    }
}
    --></script>
</manialink>